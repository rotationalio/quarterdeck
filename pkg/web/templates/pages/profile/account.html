{{ template "page.html" . }}

{{ define "htmxConfig" }}
<meta
  name="htmx-config"
  content='{
    "responseHandling":[
      {"code":"204", "swap": false},
      {"code":"[23]..", "swap": true},
      {"code":"422", "swap": true},
      {"code":"400", "swap": true},
      {"code":"[45]..", "swap": false, "error": true},
      {"code":"...", "swap": true}
    ]
  }'
/>
{{ end }}

{{ define "content" }}
<h1 class="h3 mb-3">Account Management</h1>
<div class="row">
  {{ template "profilenav" "account" }}
  <div class="col-md-9 col-xl-10">
    <div class="card">
      <div class="card-body">
        <h4 class="card-title mb-0">Change your password</h4>
        <p class="text-muted text-lg mb-5">
          Once your password has been successfully changed, you will have to log in
          again. Expect to be redirected to the login page.
        </p>

        <div class="row">
          <div class="col-md-6 col-xl-7 mb-4">
            <!-- Note: this form is duplicated in the partials/profile/changePassword.html template and must be updated if this form is. -->
            <form hx-post="/v1/{{ .UserID }}/accounts/change-password" hx-ext='json-enc' hx-headers='{"Accept": "text/html"}' hx-swap="outerHTML">
              <div class="mb-3">
                <label class="form-label" for="current">Current password</label>
                <input type="password" class="form-control" id="current" name="current" autocomplete="current-password">
              </div>

              <div class="mb-3">
                <label class="form-label" for="password">New password</label>
                <input type="password" class="form-control" id="password" name="password" autocomplete="new-password">
              </div>

              <div class="mb-3">
                <label class="form-label" for="confirm">Confirm new password</label>
                <input type="password" class="form-control" id="confirm" name="confirm" autocomplete="">
              </div>

              <button type="submit" class="btn btn-primary">Update Password</button>
            </form>
          </div>
          <div class="col-md-6 col-xl-5 mb-4">
            <div class="flex-fill">
              <div class="card bg-light border ms-md-4">
                <div class="card-body">
                  <p class="mb-2">
                    Password requirements
                  </p>
                  <p class="small text-body-secondary mb-2">
                    To create a new password, you have to meet all of the following requirements:
                  </p>
                  <ul class="small text-body-secondary ps-4 mb-0">
                    <li>Minimum 8 characters</li>
                    <li>Both upper and lower case letters</li>
                    <li>At least one number</li>
                    <li>Canâ€™t be the same as previous password</li>
                    <li>Special characters recommended</li>
                  </ul>
                </div>
              </div>
              <!--TODO: enable this button when implementing forgot password (sc-35063)-->
              <button type="button" class="btn btn-light ms-md-4 mt-1" disabled>Forgot Password?</button>
            </div>
          </div>
        </div>

      </div>
    </div>

  </div>
</div>
{{ end }}
